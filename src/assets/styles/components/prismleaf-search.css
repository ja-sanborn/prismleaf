/*!
 * Prismleaf Search
 *
 * Shared styling for the Prismleaf Search component.
 *
 * @package prismleaf
 */

.prismleaf-search {
	display: inline-flex;
	align-items: center;
	justify-content: flex-start;
}

.prismleaf-search__controls {
	display: inline-flex;
	align-items: center;
	gap: var(--prismleaf-space-1);
	position: relative;
}

.prismleaf-search-input {
	inline-size: 150px;
	padding: var(--prismleaf-space-1) var(--prismleaf-space-2);
	border: var(--prismleaf-border-width-thin) var(--prismleaf-border-style) var(--prismleaf-color-outline);
	border-radius: var(--prismleaf-radius-small);
	background-color: var(--prismleaf-color-surface);
	color: var(--prismleaf-color-on-surface);
}

.prismleaf-search-input:focus-visible {
	outline: none;
	border-color: var(--prismleaf-color-primary);
}

.prismleaf-search-input::placeholder {
	color: var(--prismleaf-color-on-surface-muted);
}

.prismleaf-search-button {
	inline-size: 24px;
	block-size: 24px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 0;
	margin: 0;
	border: 0;
	border-radius: var(--prismleaf-radius-pill);
	background-color: transparent;
	color: var(--prismleaf-color-tertiary);
	cursor: pointer;
}

.prismleaf-search-button:focus {
	outline: none;
}

.prismleaf-search-button:focus-visible {
	outline: none;
	border-color: var(--prismleaf-color-primary);
}

.prismleaf-search-button:hover:not(:disabled) {
	background-color: color-mix(in srgb, var(--prismleaf-color-tertiary) 12%, transparent);
}

.prismleaf-search-button:active:not(:disabled) {
	background-color: color-mix(in srgb, var(--prismleaf-color-tertiary) 18%, transparent);
}

.prismleaf-search-button:disabled {
	cursor: default;
	opacity: var(--prismleaf-state-disabled-opacity);
}

.prismleaf-search-button::before {
	content: "";
	display: inline-block;
	inline-size: 24px;
	block-size: 24px;
	background-color: currentColor;
	mask: url('../../images/magnifying-glass.svg') no-repeat center / 24px 24px;
	-webkit-mask: url('../../images/magnifying-glass.svg') no-repeat center / 24px 24px;
}

@supports not (mask: url('../../images/magnifying-glass.svg')) {
	.prismleaf-search-button::before {
		background-color: transparent;
		background-image: url('../../images/magnifying-glass.svg');
		background-repeat: no-repeat;
		background-position: center;
		background-size: 16px 16px;
		mask: none;
		-webkit-mask: none;
	}
}

.prismleaf-search--flyout .prismleaf-search-input {
	position: absolute;
	inset-block-start: 50%;
	inset-inline-end: calc(100% + var(--prismleaf-space-1));
	transform: translateY(-50%);
	z-index: var(--prismleaf-z-dropdown);
	opacity: 0;
	visibility: hidden;
	pointer-events: none;
}

.prismleaf-search--flyout.prismleaf-search--open .prismleaf-search-input {
	opacity: 1;
	visibility: visible;
	pointer-events: auto;
}

.prismleaf-search--inline .prismleaf-search-input {
	position: static;
	opacity: 1;
	visibility: visible;
	pointer-events: auto;
}
